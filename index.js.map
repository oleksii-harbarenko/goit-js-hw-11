{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48876582-9b859673e779d9e5d61f29cd8';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function searchImages(searchImage) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchImage,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = BASE_URL + `?${params}`;\n  return axios.get(url);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const markup = images\n    .map(\n      image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"image-info\">\n                <p>üëç ${image.likes}</p>\n                <p>üëÅÔ∏è ${image.views}</p>\n                <p>üí¨ ${image.comments}</p>\n                <p>‚¨áÔ∏è ${image.downloads}</p>\n            </div>\n          </a>\n        </li>\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst waitMessage = document.querySelector('.wait-message');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  let searchImage = input.value.trim();\n  if (!searchImage) {\n    iziToast.warning({\n      title: 'Error',\n      message: 'Input search string',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  waitMessage.innerHTML =\n    'Loading images, please wait...<span class=\"loader\"></span>';\n\n  gallery.innerHTML = '';\n\n  searchImages(searchImage)\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        renderImages(response.data.hits);\n      }\n      waitMessage.textContent = '';\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again',\n        position: 'topRight',\n      });\n      console.log(error);\n    })\n    .finally(() => {\n      waitMessage.textContent = '';\n    });\n  form.reset();\n});\n"],"names":["API_KEY","BASE_URL","searchImages","searchImage","params","url","axios","renderImages","images","gallery","markup","image","SimpleLightbox","form","input","waitMessage","e","iziToast","response","error"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAa,CACxC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAMJ,EAAW,IAAIG,CAAM,GACjC,OAAOE,EAAM,IAAID,CAAG,CACtB,CCbO,SAASE,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA,uBAEQA,EAAM,aAAa;AAAA,kDACQA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wBAEhEA,EAAM,KAAK;AAAA,yBACVA,EAAM,KAAK;AAAA,wBACZA,EAAM,QAAQ;AAAA,wBACdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKlC,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,aAAcC,CAAM,EAE9B,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CC1BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAc,SAAS,cAAc,eAAe,EACpDN,EAAU,SAAS,cAAc,UAAU,EAEjDI,EAAK,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAEhB,IAAIb,EAAcW,EAAM,MAAM,KAAI,EAClC,GAAI,CAACX,EAAa,CAChBc,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,sBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDF,EAAY,UACV,6DAEFN,EAAQ,UAAY,GAEpBP,EAAaC,CAAW,EACrB,KAAKe,GAAY,CACZA,EAAS,KAAK,KAAK,SAAW,EAChCD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EAEDV,EAAaW,EAAS,KAAK,IAAI,EAEjCH,EAAY,YAAc,EAChC,CAAK,EACA,MAAMI,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACT,SAAU,UAClB,CAAO,EACD,QAAQ,IAAIE,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAY,YAAc,EAChC,CAAK,EACHF,EAAK,MAAK,CACZ,CAAC"}